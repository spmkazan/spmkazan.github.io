"use strict";var Sender={email:function(e,n){var i="";e.quizes.forEach(function(e){e.answers.forEach(function(e){"checked"===e.checked&&(i+=" "+e.answer+",")})});var o=window.atob("aHR0cHM6Ly9nZXRzaW1wbGVmb3JtLmNvbS9tZXNzYWdlcz9mb3JtX2FwaV90b2tlbj0yNTE5NDA0MDAwM2RhMzJkNTU3YWZiMjQ1ODUxNzgzZA==");fetch(""+o,{credentials:"same-origin",mode:"no-cors",method:"POST",headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8"},body:"phone="+n+"&quize="+i.slice(0,-1)}).catch(function(e){return console.log(e)})},sms:function(e){var n=window.atob("aHR0cHM6Ly9zbXMucnUvc21zL3NlbmQ/YXBpX2lkPUIxNTY2OUQzLTUyNjYtQjVDOC0zODhFLUEwNjRDQTZCQzJDNQ=="),i=window.atob("NzkyNzAwOTY2MTY=");fetch(""+n,{credentials:"same-origin",mode:"no-cors",method:"POST",headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8"},body:"to="+i+"&msg=Заявка из квиза: "+e+"&json=1"}).catch(function(e){return console.log(e)})}},Quize=function(){var e={quizes:[{id:0,question:"Какую площадь для хранения вы рассматриваете?",answers:[{id:1,answer:"1 - 10 паллет мест кв/м2",checked:""},{id:2,answer:"10 - 30 паллет мест кв/м2",checked:""},{id:3,answer:"30 и более паллет мест кв/м2",checked:""}],progress:33},{id:1,question:"Какой срок хранения вам необходим?",answers:[{id:1,answer:"от 1 до 30 дней",checked:""},{id:2,answer:"от 30 и более дней",checked:""}],progress:66}],quizeIndex:0};return{show:function(){return e},updateQuizeIndex:function(n){e.quizeIndex+=n},clearAnswersQuize:function(n){e.quizes[n].answers.forEach(function(e){e.checked=""})},checkedQuize:function(n,i){Quize.clearAnswersQuize(n),e.quizes[n].answers[i-1].checked="checked"},clearAllData:function(){e.quizeIndex=0,e.quizes.forEach(function(e,n){Quize.clearAnswersQuize(n)})}}}(),QuizeUI=function(){var e={quizeQuestion:".quize-question",progressBarTitle:".quize-progress-bar-title span",progress:"progress",quizeAnswers:".quize-answers",sliderButtons:"button.slider-quiz",quizeModal:".quizmodal",closeModalQuiz:".quize-close",nextButtonQuiz:".quize-next",backButtonQuiz:".quize-back",quizeAnswer:".quize-answer",quizeRadio:".quize-radio",quizeLeft:".quize-left",quizeId:"#quize-left",quizeForm:".quize-form",quizePhone:".quize-form-phone",quizeInfo:".quizeModalInfo.modal span.close",quizeModalInfo:".quizeModalInfo"};return{getSelectors:function(){return e},showTitleQuize:function(n,i){document.querySelector(e.quizeQuestion).textContent=n[i].question,document.querySelector(e.quizeQuestion).setAttribute("id",n[i].id)},showProgressQuize:function(n,i){document.querySelector(e.progress).value=n[i].progress,document.querySelector(e.progressBarTitle).textContent=n[i].progress+"%"},showRadioButtons:function(n,i){var o="";n[i].answers.forEach(function(e){o+='\n          <label class="quize-answer">\n            <input class="quize-radio" type="radio" value="'+e.id+'" name="radio" '+e.checked+'/>\n            <span class="quize-check"> </span>\n            <span class="quize-answer-text"> '+e.answer+" </span>\n          </label>\n        "}),document.querySelector(e.quizeAnswers).innerHTML=o},openModalQuize:function(){console.log("hi"),document.querySelector(e.quizeModal).style.display="block"},closeModalQuize:function(){document.querySelector(e.quizeModal).style.display="none"},enableButtonNext:function(){document.querySelector(e.nextButtonQuiz).disabled=!1},disableButtonNext:function(){document.querySelector(e.nextButtonQuiz).disabled=!0},showButtonBack:function(){document.querySelector(e.backButtonQuiz).style.visibility="visible"},hideButtonBack:function(){document.querySelector(e.backButtonQuiz).style.visibility="hidden"},EmptyRadioButton:function(){QuizeUI.disableButtonNext();for(var n=document.querySelectorAll(e.quizeRadio),i=0;i<n.length;i++)n[i].checked&&QuizeUI.enableButtonNext()},clearStyleAnswer:function(){for(var n=document.querySelectorAll(e.quizeAnswer),i=0;i<n.length;i++)n[i].style.border="1px solid #d9d8e6"},borderColorRadioButton:function(n){var i=n.target,o=document.querySelector(e.quizeQuestion).getAttribute("id");if(i.classList.contains("quize-answer")){QuizeUI.clearStyleAnswer(),i.style.border="1px solid #e8522f";var s=i.querySelector(".quize-radio").value;Quize.checkedQuize(o,s)}if(i.classList.contains("quize-answer-text")||i.classList.contains("quize-check")){QuizeUI.clearStyleAnswer(),i.parentNode.style.border="1px solid #e8522f";var t=i.parentNode.querySelector(".quize-radio").value;Quize.checkedQuize(o,t)}QuizeUI.EmptyRadioButton()},show:function(e,n){QuizeUI.showTitleQuize(e,n),QuizeUI.showProgressQuize(e,n),QuizeUI.showRadioButtons(e,n),QuizeUI.EmptyRadioButton()},showForm:function(){document.querySelector(e.quizeLeft).innerHTML='\n        <div class="quize-form-container">\n          <div class="quize-form-icon">\n            <svg class="icon icon-done ">\n              <use xlink:href="svg/symbol/sprite.svg#done"></use>\n            </svg>\n          </div>\n\n          <div class="quize-form-title">\n            <h3>Отлично! Остался последний шаг.</h3>\n          </div>\n\n          <div class="quize-progress-bar">\n            <div class="quize-progress-bar-title">\n              <p>Готово: <span>95%</span></p>\n            </div>\n            <div class="quize-progress-bar-line">\n              <div class="progress">\n                <progress max="100" value="95"></progress>\n                <div class="progress-bg">\n                  <div class="progress-bar"></div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div class="quize-form-wrap">\n            <div class="quize-form-left">\n              <p>\n                Чтобы получить доступ к результатам опроса и получить индивидуальную скидку введите контактный номер телефона:\n              </p>\n            </div>\n\n            <div class="quize-form-right">\n              <form class="quize-form">\n                <label>ВВЕДИТЕ ТЕЛЕФОН</label>\n                <input class="quize-form-phone" type="phone" placeholder="+7 (900) 000-00-00" required=\'\'>\n                <button type="submit" class="quize-form-button" onclick="yaCounter51108218.reachGoal(\'send_quiz\'); return true;">\n                  <span>\n                    <svg class="icon icon-qcheck">\n                      <use xlink:href="svg/symbol/sprite.svg#qcheck"></use>\n                    </svg>\n                  </span>\n\n                  <span>Получить скидку</span>\n                </button>\n                <div class="quize-form-policy">\n                  <p>\n                    Нажимая на кнопку "Получить скидку", я даю согласие на <a href="/policy.html" target="_blank">обработку персональных данных</a>\n                  </p>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n      '},clearAnswers:function(){document.querySelector(e.quizeLeft).innerHTML='\n        <div class="quize-title">\n          <svg class="icon icon-qcheck-form ">\n            <use xlink:href="svg/symbol/sprite.svg#qcheck-form"></use>\n          </svg>\n          <h5>Узнайте какая стоимость услуги подойдет именно Вам!</h5>\n        </div>\n        <hr>\n        <div class="quize-question"></div>\n        <div class="quize-progress-bar">\n          <div class="quize-progress-bar-title">\n            <p>Готово: <span></span></p>\n          </div>\n          <div class="quize-progress-bar-line">\n            <div class="progress">\n              <progress max="100" value="0"></progress>\n              <div class="progress-bg">\n                <div class="progress-bar"></div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class="quize-answers-container">\n          <div class="quize-answers"></div>\n        </div>\n        <div class="quize-buttons">\n          <button class="quize-back">\n            <svg class="icon icon-qleft-arrow ">\n              <use xlink:href="svg/symbol/sprite.svg#qleft-arrow"></use>\n            </svg> Назад\n          </button>\n          <button class="quize-next">\n            <svg class="icon icon-qcheck ">\n              <use xlink:href="svg/symbol/sprite.svg#qcheck"></use>\n            </svg> Далее\n          </button>\n        </div>\n      '},closeQuizeInfo:function(){document.querySelector(e.quizeModalInfo).style.display="none"},openQuizeInfo:function(){document.querySelector(e.quizeModalInfo).style.display="block"}}}(),QuizeApp=function(e,n,i){var o=i.getSelectors(),s=function(e){var o=n.show(),s=o.quizeIndex+e;0===s&&(n.updateQuizeIndex(e),i.show(o.quizes,s),i.hideButtonBack()),s>=1&&s<o.quizes.length&&(n.updateQuizeIndex(e),i.show(o.quizes,s),i.showButtonBack()),s===o.quizes.length&&(i.showForm(),t()),c()},t=function(){document.querySelector(o.quizeForm).addEventListener("submit",function(o){return function(o){o.preventDefault();var t=n.show(),a=i.getSelectors(),l=document.querySelector(a.quizePhone).value;i.closeModalQuize(),i.openQuizeInfo(),setTimeout(function(){i.closeQuizeInfo()},5e3),e.email(t,l),n.clearAllData(),i.clearAnswers(),s(0),c(),u(),r()}(o)})},u=function(){document.querySelector(o.nextButtonQuiz).addEventListener("click",function(){return s(1)})},r=function(){document.querySelector(o.backButtonQuiz).addEventListener("click",function(){return s(-1)})},c=function(){for(var e=document.querySelectorAll(o.quizeAnswer),n=0;n<e.length;n++)e[n].addEventListener("click",i.borderColorRadioButton)};return{init:function(){var e=n.show(),s=e.quizeIndex;i.show(e.quizes,s),function(){for(var e=document.querySelectorAll(o.sliderButtons),n=0;n<e.length;n++)e[n].addEventListener("click",i.openModalQuize);document.querySelector(o.closeModalQuiz).addEventListener("click",i.closeModalQuize),document.querySelector(o.closeModalQuiz).addEventListener("click",i.closeModalQuize),document.querySelector(o.quizeInfo).addEventListener("click",i.closeQuizeInfo),c(),u(),r()}()}}}(Sender,Quize,QuizeUI);QuizeApp.init();